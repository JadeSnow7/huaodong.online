<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>è¿›ç¨‹ä¸çº¿ç¨‹ï¼šä»åŸç†åˆ°å®è·µ | å­¦ä¹ ç¬”è®°</title>
    <meta name="description" content="ç†è§£è¿›ç¨‹ä¸çº¿ç¨‹çš„æœ¬è´¨åŒºåˆ«ï¼Œæ¢è®¨åŒæ­¥æœºåˆ¶ä¸å¹¶å‘ç¼–ç¨‹æ¨¡å‹ã€‚" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="../styles.css" />
    <link rel="stylesheet" href="note-style.css" />
</head>

<body>
    <div class="backdrop" aria-hidden="true">
        <span class="orb orb--one"></span>
        <span class="orb orb--two"></span>
        <span class="orb orb--three"></span>
        <span class="grid"></span>
    </div>

    <header class="site-header">
        <a href="../index.html" class="brand">HU AODONG</a>
        <nav class="nav">
            <a href="../index.html#projects">ç²¾é€‰é¡¹ç›®</a>
            <a href="index.html" class="active">å­¦ä¹ ç¬”è®°</a>
            <a href="../resume.html">åœ¨çº¿ç®€å†</a>
        </nav>
    </header>

    <main class="note-container">
        <article class="note-article">
            <header class="note-header">
                <a href="index.html" class="note-back">â† è¿”å›ç¬”è®°åˆ—è¡¨</a>
                <span class="note-category os">æ“ä½œç³»ç»Ÿ</span>
                <h1>è¿›ç¨‹ä¸çº¿ç¨‹ï¼šä»åŸç†åˆ°å®è·µ</h1>
                <div class="note-meta">
                    <span>ğŸ“… 2026-01-12</span>
                    <span>â±ï¸ çº¦ 12 åˆ†é’Ÿ</span>
                    <span>ğŸ·ï¸ è¿›ç¨‹, çº¿ç¨‹, å¹¶å‘</span>
                </div>
            </header>

            <div class="note-content">
                <h2>1. åŸºæœ¬æ¦‚å¿µ</h2>

                <div class="info-box">
                    <h4>ğŸ“¦ å®šä¹‰å¯¹æ¯”</h4>
                    <ul>
                        <li><strong>è¿›ç¨‹ (Process)</strong>ï¼šæ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´</li>
                        <li><strong>çº¿ç¨‹ (Thread)</strong>ï¼šCPU è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œå…±äº«è¿›ç¨‹çš„èµ„æº</li>
                    </ul>
                </div>

                <h2>2. è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«</h2>

                <table class="note-table">
                    <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>è¿›ç¨‹</th>
                            <th>çº¿ç¨‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>åœ°å€ç©ºé—´</td>
                            <td>ç‹¬ç«‹</td>
                            <td>å…±äº«è¿›ç¨‹ç©ºé—´</td>
                        </tr>
                        <tr>
                            <td>èµ„æºå¼€é”€</td>
                            <td>å¤§ï¼ˆéœ€è¦ç‹¬ç«‹èµ„æºï¼‰</td>
                            <td>å°ï¼ˆå…±äº«èµ„æºï¼‰</td>
                        </tr>
                        <tr>
                            <td>é€šä¿¡æ–¹å¼</td>
                            <td>IPCï¼ˆç®¡é“ã€å…±äº«å†…å­˜ç­‰ï¼‰</td>
                            <td>ç›´æ¥è¯»å†™å…±äº«å˜é‡</td>
                        </tr>
                        <tr>
                            <td>åˆ›å»º/é”€æ¯</td>
                            <td>æ…¢</td>
                            <td>å¿«</td>
                        </tr>
                        <tr>
                            <td>ä¸Šä¸‹æ–‡åˆ‡æ¢</td>
                            <td>æ…¢ï¼ˆéœ€åˆ‡æ¢é¡µè¡¨ç­‰ï¼‰</td>
                            <td>å¿«ï¼ˆå…±äº«åœ°å€ç©ºé—´ï¼‰</td>
                        </tr>
                        <tr>
                            <td>å¥å£®æ€§</td>
                            <td>é«˜ï¼ˆç›¸äº’éš”ç¦»ï¼‰</td>
                            <td>ä½ï¼ˆä¸€ä¸ªå´©æºƒå¯èƒ½å½±å“å…¨éƒ¨ï¼‰</td>
                        </tr>
                    </tbody>
                </table>

                <h2>3. è¿›ç¨‹çŠ¶æ€è½¬æ¢</h2>

                <pre><code>                  +-------------+
                  |   æ–°å»ºæ€     |
                  | (Created)   |
                  +------+------+
                         |
                         v  åˆ›å»ºå®Œæˆ
                  +------+------+
       æ—¶é—´ç‰‡ç”¨å®Œ  |    å°±ç»ªæ€    | <----+
       +--------> |   (Ready)   |      |
       |          +------+------+      |
       |                 |             |
       |                 v  è°ƒåº¦       | I/Oå®Œæˆ
       |          +------+------+      |
       |          |   è¿è¡Œæ€     |      |
       +--------- | (Running)   | -----+
      è¢«æŠ¢å       +------+------+   ç­‰å¾…I/O
                         |
                         v  ç»ˆæ­¢
                  +------+------+
                  |   ç»ˆæ­¢æ€     |
                  | (Terminated)|
                  +-------------+</code></pre>

                <h2>4. çº¿ç¨‹åŒæ­¥æœºåˆ¶</h2>

                <h3>4.1 äº’æ–¥é” (Mutex)</h3>

                <pre><code class="language-cpp">std::mutex mtx;
int shared_data = 0;

void increment() {
    std::lock_guard&lt;std::mutex&gt; lock(mtx);  // RAII é£æ ¼
    shared_data++;
}  // è‡ªåŠ¨é‡Šæ”¾é”</code></pre>

                <h3>4.2 æ¡ä»¶å˜é‡ (Condition Variable)</h3>

                <pre><code class="language-cpp">std::mutex mtx;
std::condition_variable cv;
std::queue&lt;int&gt; buffer;

// ç”Ÿäº§è€…
void producer(int value) {
    {
        std::lock_guard&lt;std::mutex&gt; lock(mtx);
        buffer.push(value);
    }
    cv.notify_one();  // é€šçŸ¥æ¶ˆè´¹è€…
}

// æ¶ˆè´¹è€…
int consumer() {
    std::unique_lock&lt;std::mutex&gt; lock(mtx);
    cv.wait(lock, []{ return !buffer.empty(); });  // ç­‰å¾…æ¡ä»¶
    int value = buffer.front();
    buffer.pop();
    return value;
}</code></pre>

                <h3>4.3 ä¿¡å·é‡ (Semaphore)</h3>

                <pre><code class="language-cpp">// C++20 å¼•å…¥
#include &lt;semaphore&gt;

std::counting_semaphore&lt;10&gt; sem(10);  // æœ€å¤š10ä¸ªå¹¶å‘

void access_resource() {
    sem.acquire();  // Pæ“ä½œ
    // è®¿é—®èµ„æº
    sem.release();  // Væ“ä½œ
}</code></pre>

                <h2>5. æ­»é”é—®é¢˜</h2>

                <div class="warning-box">
                    <h4>âš ï¸ æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶</h4>
                    <ol>
                        <li><strong>äº’æ–¥æ¡ä»¶</strong>ï¼šèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹å ç”¨</li>
                        <li><strong>å æœ‰å¹¶ç­‰å¾…</strong>ï¼šæŒæœ‰èµ„æºåŒæ—¶ç­‰å¾…å…¶ä»–èµ„æº</li>
                        <li><strong>ä¸å¯æŠ¢å </strong>ï¼šèµ„æºåªèƒ½ç”±æŒæœ‰è€…é‡Šæ”¾</li>
                        <li><strong>å¾ªç¯ç­‰å¾…</strong>ï¼šå½¢æˆç­‰å¾…ç¯è·¯</li>
                    </ol>
                </div>

                <h3>5.1 æ­»é”é¢„é˜²</h3>

                <pre><code class="language-cpp">// æ–¹æ³•1ï¼šæŒ‰å›ºå®šé¡ºåºåŠ é”
void transfer(Account& from, Account& to, int amount) {
    Account* first = &from < &to ? &from : &to;
    Account* second = &from < &to ? &to : &from;
    
    std::lock_guard&lt;std::mutex&gt; lock1(first->mtx);
    std::lock_guard&lt;std::mutex&gt; lock2(second->mtx);
    // è½¬è´¦æ“ä½œ
}

// æ–¹æ³•2ï¼šä½¿ç”¨ std::lock åŒæ—¶è·å–å¤šä¸ªé”
void transfer_v2(Account& from, Account& to, int amount) {
    std::lock(from.mtx, to.mtx);  // åŒæ—¶é”å®šï¼Œé¿å…æ­»é”
    std::lock_guard&lt;std::mutex&gt; lock1(from.mtx, std::adopt_lock);
    std::lock_guard&lt;std::mutex&gt; lock2(to.mtx, std::adopt_lock);
    // è½¬è´¦æ“ä½œ
}</code></pre>

                <h2>6. å¸¸è§é¢è¯•é¢˜</h2>

                <div class="qa-box">
                    <p class="question">Q: ä¸ºä»€ä¹ˆè¦å¼•å…¥çº¿ç¨‹ï¼Ÿ</p>
                    <p class="answer">A: â‘  è¿›ç¨‹åˆ›å»ºå’Œåˆ‡æ¢å¼€é”€å¤§ï¼Œçº¿ç¨‹æ›´è½»é‡ï¼›â‘¡ åŒä¸€è¿›ç¨‹çš„çº¿ç¨‹å…±äº«å†…å­˜ï¼Œé€šä¿¡æ›´æ–¹ä¾¿ï¼›â‘¢ å¤šæ ¸ CPU ç¯å¢ƒä¸‹ï¼Œå¤šçº¿ç¨‹å¯çœŸæ­£å¹¶è¡Œæ‰§è¡Œã€‚</p>
                </div>

                <div class="qa-box">
                    <p class="question">Q: ç”¨æˆ·æ€çº¿ç¨‹å’Œå†…æ ¸æ€çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ</p>
                    <p class="answer">A: ç”¨æˆ·æ€çº¿ç¨‹ç”±ç”¨æˆ·ç©ºé—´åº“ç®¡ç†ï¼Œåˆ‡æ¢å¿«ä½†æ— æ³•åˆ©ç”¨å¤šæ ¸ï¼›å†…æ ¸æ€çº¿ç¨‹ç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œæ”¯æŒå¤šæ ¸ä½†åˆ‡æ¢å¼€é”€å¤§ã€‚ç°ä»£ç³»ç»Ÿå¤šé‡‡ç”¨ 1:1
                        æ¨¡å‹ï¼ˆæ¯ä¸ªç”¨æˆ·çº¿ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼‰ã€‚</p>
                </div>

                <div class="qa-box">
                    <p class="question">Q: ä»€ä¹ˆæ˜¯åç¨‹ï¼Ÿä¸çº¿ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
                    <p class="answer">A: åç¨‹æ˜¯ç”¨æˆ·æ€çš„è½»é‡çº§"çº¿ç¨‹"ï¼Œç”±ç¨‹åºå‘˜æ˜¾å¼åˆ‡æ¢ï¼Œæ²¡æœ‰å†…æ ¸åˆ‡æ¢å¼€é”€ã€‚åç¨‹é€‚åˆ I/O å¯†é›†å‹ä»»åŠ¡ï¼Œçº¿ç¨‹é€‚åˆ CPU å¯†é›†å‹ä»»åŠ¡ã€‚å…¸å‹å®ç°ï¼šGo çš„
                        goroutineã€Python çš„ asyncioã€‚</p>
                </div>
            </div>

            <footer class="note-footer">
                <div class="note-nav">
                    <a href="network-tcp-handshake.html" class="prev">â† TCP ä¸‰æ¬¡æ¡æ‰‹</a>
                    <a href="algorithm-sorting.html" class="next">æ’åºç®—æ³• â†’</a>
                </div>
            </footer>
        </article>
    </main>

    <footer class="site-footer">
        <p>Â© Hu Aodong Â· Crafted for GitHub Pages</p>
    </footer>
</body>

</html>